/*! dude2019 27-09-2019 09:00 - Digitoimisto Dude Oy (moro@dude.fi) */
!function($){var cart=[];$(".col-product .models button").on("click",function(){var model=$(this).data("model");$(this).closest(".models").find("button").removeClass("active"),$(this).addClass("active");var productimage=$(this).data("image");$(this).closest(".full-image").css("background-image","url('"+productimage+"')"),$(this).closest(".col-product").find(".sizes").removeClass("visible"),$(this).closest(".col-product").find('.sizes[data-model="'+model+'"]').addClass("visible")}),$(".col-product .sizes button").on("click",function(){var instock=$(this).data("instock");$(this).closest(".sizes").find("button").removeClass("active"),$(this).addClass("active"),instock?($(this).closest(".col-product").find("button.add-to-cart").removeClass("disabled"),$(this).closest(".col-product").find("button.add-to-cart").prop("disabled",!1)):($(this).closest(".col-product").find("button.add-to-cart").addClass("disabled"),$(this).closest(".col-product").find("button.add-to-cart").attr("disabled","true"))}),$("body").on("click",".col-product button.add-to-cart",function(){var element,product,model,size,size_instock,cart_index;element=$(this),product=element.closest(".col-product").data("product"),model=element.closest(".col-product").find(".models button.active").data("model"),size=element.closest(".col-product").find(".sizes.visible button.active").data("size"),size_instock=element.closest(".col-product").find(".sizes.visible button.active").data("instock"),-1!==(cart_index=_.findIndex(cart,{product:product,model:model,size:size}))?cart[cart_index].qty<size_instock&&(cart[cart_index].qty=cart[cart_index].qty+1):cart.push({product:product,model:model,size:size,qty:1})})}(jQuery);